function debounce(t){var e=arguments.length<=1||void 0===arguments[1]?100:arguments[1],o=void 0;return function(){for(var n=this,a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];clearTimeout(o),o=setTimeout(function(){t.apply(n,i)},e)}}!function(){new Vue({el:"#index-jobs",data:{jobs:[],page:window.location.pathname,pagination:{},search:""},mounted:function(){this.getJobs()},methods:{getJobs:function(t){var e=this;"/user/job"===e.page&&(t=t||window.location.origin+"/json/job"),"/user/job/client"===e.page&&(t=t||window.location.origin+"/json/job/client"),"/user/job/worker"===e.page&&(t=t||window.location.origin+"/json/job/worker"),""!==e.search&&(t+="?filters="+encodeURIComponent('[["title","like","%'+e.search+'%"]]')),e.$http.get(t).then(function(t){var o=t.data;e.jobs=o.data,e.makePagination(o)})},applyFilter:debounce(function(){this.getJobs()}),submitDelete:function(t){var e=this;pageUrl=window.location.origin+"/user/job/"+t.id,swal({title:"Você está certo disto?",text:'Você realmente deseja apagar o trabalho "'+t.title+'"?',type:"warning",showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger m-l-10",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(function(){e.$http.post(pageUrl,{_method:"DELETE"},{headers:{"X-CSRF-TOKEN":_csrf_token}}).then(function(o){e.getJobs(),swal("Deletado!",'O trabalho "'+t.title+'" foi deletado com sucesso!',"success")},function(t){swal("Oops, algo deu errado...",t.body.error,"error")})})},makePagination:function(t){var e=this,o={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};e.pagination=o}},watch:{search:function(){this.applyFilter()}}})}();